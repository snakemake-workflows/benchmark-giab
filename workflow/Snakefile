configfile: "config/config.yaml"

include: "rules/common.smk"
include: "rules/download.smk"


if "variant-calls" in config:

    include: "rules/eval.smk"

    rule eval:
        input:
            expand(
                [
                    "results/report/{callset}.tsv",
                    "results/report/{callset}.plot.svg",
                ],
                callset=config["variant-calls"]
            )



rule download:
    input:
        reads,
        expand("resources/regions/test-regions.cov-{cov}.bed", cov=coverages.keys()),
        "resources/reference/genome.fasta",
        "resources/reference/genome.fasta.fai",
        "resources/variants/truth.vcf",
        "resources/regions/target-regions.bed",
