from snakemake.utils import min_version

# min_version("7.1") # TODO set min version once labels released


configfile: "config/config.yaml"


include: "rules/common.smk"
include: "rules/utils.smk"
include: "rules/download.smk"


if "variant-calls" in config:

    include: "rules/eval.smk"

    rule eval:
        input:
            expand(
                [
                    "results/report/{callset}.tsv",
                    "results/report/{callset}.plot.svg",
                ],
                callset=config["variant-calls"],
            ),
            expand(
                "results/report/{genome}/{cov}/all.{type}",
                genome=genomes,
                cov=coverages,
                type=["FP", "FN"],
            ),
